<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Table</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 p-8">
    <div class="relative shadow-lg overflow-hidden rounded-2xl border border-slate-300/60 bg-white/95 backdrop-blur-sm" style="max-width: 100vw; overflow-x: hidden;">
        <div class="flex" style="height: 800px; width: 100vw; max-width: 1400px;">
            <div id="sidebar" class="w-48 bg-gradient-to-b from-slate-50 via-white to-white border-r border-slate-300/60 flex flex-col transition-all duration-200 ease-in-out">
                <div class="p-2 flex-1 overflow-y-auto sidebar-content">
                    <h2 class="text-xs font-semibold text-slate-900 mb-3 uppercase tracking-wide">Collections</h2>
                    <div class="space-y-1">
                        <a href="#" onclick="switchView('schedule')" class="flex items-center px-1 py-1 leading-none text-xs font-medium text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded shadow-sm hover:from-blue-700 hover:to-blue-800 transform transition-all duration-200 hover:scale-110">SCHEDULE</a>
                        <a href="#" onclick="switchView('goals')" class="flex items-center px-1 py-1 leading-none text-xs font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 rounded transition-all duration-200 transform hover:scale-110">GOALS</a>
                        <a href="#" onclick="switchView('daily')" class="flex items-center px-1 py-1 leading-none text-xs font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 rounded transition-all duration-200 transform hover:scale-110">DAILY LOG</a>
                        <a href="#" onclick="switchView('notes')" class="flex items-center px-1 py-1 leading-none text-xs font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 rounded transition-all duration-200 transform hover:scale-110">NOTES</a>
                        <a href="#" onclick="switchView('lists')" class="flex items-center px-1 py-1 leading-none text-xs font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 rounded transition-all duration-200 transform hover:scale-110">LISTS</a>
                        <a href="#" onclick="switchView('table')" class="flex items-center px-1 py-1 leading-none text-xs font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 rounded transition-all duration-200 transform hover:scale-110">TABLE</a>
                        <button onclick="addNewCollection()" class="flex items-center justify-center px-1 py-1 leading-none text-xs font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-100 border border-slate-300/60 border-dashed rounded transition-all duration-200 transform hover:scale-110 w-full" title="Add New Collection">+</button>
                    </div>
                </div>
            </div>
            <div class="flex-1 flex flex-col" style="min-width: 0;">
                <div class="bg-gradient-to-r from-white via-slate-50/30 to-white border-t border-b border-slate-300/60 px-1 py-1 leading-none flex items-center justify-between flex-shrink-0">
                    <div class="flex items-center space-x-2 overflow-x-auto" style="min-width: 0;">
                        <button onclick="toggleSidebar()" class="px-0 py-0 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center leading-none transition-all duration-200 hover:scale-110 flex-shrink-0" title="Toggle Sidebar">
                            ☰
                        </button>
                    </div>
                    <div class="flex items-center space-x-2 flex-shrink-0">
                        <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-1 py-1 rounded transition-all duration-200 whitespace-nowrap overflow-hidden">
                            Sync
                        </button>
                                                <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-1 py-1 rounded transition-all duration-200 whitespace-nowrap overflow-hidden">
                            Logout
                        </button>
                    </div>
                </div>
                <div id="content-area" class="flex-1 overflow-auto" style="min-height: 0;">
                    <!-- Dynamic content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const sidebarContent = document.querySelector('.sidebar-content');
            if (sidebarContent?.classList.contains('hidden')) {
                sidebarContent?.classList.remove('hidden');
                sidebar?.classList.remove('w-0');
                sidebar?.classList.add('w-48');
            } else {
                sidebarContent?.classList.add('hidden');
                sidebar?.classList.remove('w-48');
                sidebar?.classList.add('w-0');
            }
        }

        function switchView(viewName) {
            // Hide all views
            document.getElementById('content-area').innerHTML = '';

            // Create view content based on selection
            let content = '';

            switch(viewName) {
                case 'table':
                    content = createTableView();
                    break;
                case 'schedule':
                    content = createScheduleView();
                    break;
                case 'goals':
                    content = createGoalsView();
                    break;
                case 'daily':
                    content = createDailyView();
                    break;
                case 'notes':
                    content = createNotesView();
                    break;
                case 'lists':
                    content = createListsView();
                    break;
                default:
                    content = createDefaultView(viewName);
                    break;
            }

            document.getElementById('content-area').innerHTML = content;
            updateActiveButton(viewName);
        }

        function addNewRow() {
            const tbody = document.querySelector('#content-area tbody');
            if (!tbody) return;

            const viewColors = {
                'from-blue-50': ['bg-slate-50 hover:bg-slate-100', 'bg-white hover:bg-slate-50'],
                'from-blue-50': ['bg-slate-50 hover:bg-slate-100', 'bg-white hover:bg-slate-50'],
                'from-blue-50': ['bg-slate-50 hover:bg-slate-100', 'bg-white hover:bg-slate-50'],
                'from-blue-50': ['bg-slate-50 hover:bg-slate-100', 'bg-white hover:bg-slate-50'],
                'from-blue-50': ['bg-slate-50 hover:bg-slate-100', 'bg-white hover:bg-slate-50']
            };

            const currentView = document.querySelector('[class*="from-blue-50"], [class*="from-blue-50"], [class*="from-blue-50"], [class*="from-blue-50"], [class*="from-blue-50"]');
            const rowCount = tbody.querySelectorAll('tr').length;
            const newRowIndex = rowCount + 1;
            const isEven = newRowIndex % 2 === 0;

            let bgClass;
            if (currentView) {
                const viewClass = Array.from(currentView.classList).find(c => viewColors[c]);
                bgClass = viewColors[viewClass] ? viewColors[viewClass][isEven ? 0 : 1] : viewColors['from-blue-50'][isEven ? 0 : 1];
            } else {
                bgClass = isEven ? 'bg-slate-50 hover:bg-slate-100' : 'bg-white hover:bg-slate-50';
            }

            const columnCount = document.querySelectorAll('#content-area th').length;

            let newRowHTML = `<tr class="${bgClass}">`;
            for (let j = 1; j <= columnCount; j++) {
                newRowHTML += `<td class="text-left align-middle text-xs whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200"></td>`;
            }
            newRowHTML += '</tr>';

            tbody.insertAdjacentHTML('beforeend', newRowHTML);
        }

        function updateActiveButton(viewName) {
            // Remove active state from all buttons
            const buttons = document.querySelectorAll('.space-y-1 a');
            buttons.forEach(button => {
                button.classList.remove('text-white', 'bg-gradient-to-r', 'from-blue-600', 'to-blue-700', 'shadow-sm');
                button.classList.add('text-slate-900', 'hover:bg-slate-50', 'hover:text-slate-900');
            });

            // Add active state to selected button (supports custom names)
            buttons.forEach(button => {
                const buttonViewName = getViewNameFromText(button.textContent.trim());
                if (buttonViewName === viewName) {
                    button.classList.remove('text-slate-900', 'hover:bg-slate-50', 'hover:text-slate-900');
                    button.classList.add('text-white', 'bg-gradient-to-r', 'from-blue-600', 'to-blue-700', 'shadow-sm');
                }
            });
        }

        function createTableView() {
            return `
                <div class="bg-gradient-to-r from-slate-50 via-white to-white border-t border-b border-slate-300/60 px-1 py-1 leading-none flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">Data Management</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add Row</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">View</button>
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Filter</button>
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Sort</button>
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Export</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">32 rows</span>
                        <div class="w-px h-3 bg-slate-300/60"></div>
                        <span class="text-xs text-slate-900">25 columns</span>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                ${Array.from({length: 25}, (_, i) =>
                                    `<th class="sticky top-0 z-20 bg-slate-100 text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-b-2 border-slate-300 shadow-sm">Field ${i + 1}</th>`
                                ).join('')}
                            </tr>
                        </thead>
                        <tbody>
                            ${Array.from({length: 37}, (_, i) => {
                                const bgClass = i % 2 === 0 ? 'bg-white hover:bg-slate-50' : 'bg-slate-50/30 hover:bg-slate-100';
                                return `<tr class="${bgClass} transition-all duration-200">
                                    ${Array.from({length: 25}, (_, j) =>
                                        `<td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200 hover:bg-blue-50/50 transition-colors duration-150">${i * 25 + j + 1}</td>`
                                    ).join('')}
                                </tr>`;
                            }).join('')}
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }

      function createScheduleView() {
            return `
                <div class="bg-gradient-to-r from-slate-50 to-white border-t border-b border-slate-300/60 px-1 py-1 leading-none flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">Daily Schedule Planner</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add Activity</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-1 py-1 rounded transition-all duration-200 whitespace-nowrap overflow-hidden">Week</button>
                            <button class="text-xs font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-1 py-1 rounded transition-all duration-200 whitespace-nowrap overflow-hidden">Month</button>
                            <button class="text-xs font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-1 py-1 rounded transition-all duration-200 whitespace-nowrap overflow-hidden">Year</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">7 days</span>
                        <div class="w-px h-4 bg-slate-300"></div>
                        <span class="text-xs text-slate-900">15 activities</span>
                    </div>
                </div>
                <div class="bg-gradient-to-r from-slate-50/50 to-white border-t border-b border-slate-200/80 px-1 py-1 leading-none flex items-center justify-between flex-shrink-0">
                    <div class="flex items-center space-x-2 overflow-x-auto" style="min-width: 0;">
                        <select class="text-xs font-normal text-slate-900 bg-white border border-slate-300 rounded px-0 py-0 hover:bg-slate-50 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-t border-blue-500 transition-all duration-200 flex-shrink-0">
                            <option>Select Week</option>
                            <option>Week 1</option>
                            <option>Week 2</option>
                            <option>Week 3</option>
                        </select>
                        <select class="text-xs font-normal text-slate-900 bg-white border border-slate-300 rounded px-0 py-0 hover:bg-slate-50 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-t border-blue-500 transition-all duration-200 flex-shrink-0">
                            <option>Select City</option>
                            <option>New York</option>
                            <option>Los Angeles</option>
                            <option>Chicago</option>
                        </select>
                       <div class="border border-blue-300/60 rounded px-0 py-0 bg-blue-50/50 flex items-center space-x-2 flex-shrink-0">
                            <span class="text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden">Prayer Times</span>
                            <div class="flex items-center space-x-1 overflow-x-auto">
                                <div class="flex items-center space-x-1 flex-shrink-0">
                                    <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-0 py-0 rounded transition-all duration-200">F</button>
                                    <input type="time" class="text-xs text-slate-900 border border-slate-300/60 rounded px-0 py-0 w-14 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-blue-500 bg-white flex-shrink-0">
                                </div>
                                <div class="flex items-center space-x-1 flex-shrink-0">
                                    <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-0 py-0 rounded transition-all duration-200">D</button>
                                    <input type="time" class="text-xs text-slate-900 border border-slate-300/60 rounded px-0 py-0 w-14 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-blue-500 bg-white flex-shrink-0">
                                </div>
                                <div class="flex items-center space-x-1 flex-shrink-0">
                                    <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-0 py-0 rounded transition-all duration-200">A</button>
                                    <input type="time" class="text-xs text-slate-900 border border-slate-300/60 rounded px-0 py-0 w-14 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-blue-500 bg-white flex-shrink-0">
                                </div>
                                <div class="flex items-center space-x-1 flex-shrink-0">
                                    <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-0 py-0 rounded transition-all duration-200">M</button>
                                    <input type="time" class="text-xs text-slate-900 border border-slate-300/60 rounded px-0 py-0 w-14 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-blue-500 bg-white flex-shrink-0">
                                </div>
                                <div class="flex items-center space-x-1 flex-shrink-0">
                                    <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-0 py-0 rounded transition-all duration-200">I</button>
                                    <input type="time" class="text-xs text-slate-900 border border-slate-300/60 rounded px-0 py-0 w-14 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-blue-500 bg-white flex-shrink-0">
                                </div>
                                <div class="flex items-center space-x-1 flex-shrink-0">
                                    <button class="text-xs font-normal text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-0 py-0 rounded transition-all duration-200">Q</button>
                                    <input type="time" class="text-xs text-slate-900 border border-slate-300/60 rounded px-0 py-0 w-14 focus:outline-none focus:ring-0 focus:ring-blue-500/20 focus:border-blue-500 bg-white flex-shrink-0">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">M</th>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">T</th>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">W</th>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">T</th>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">F</th>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">S</th>
                                <th class="text-center align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">S</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">TIME</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">FREQUENCY</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">ACTIVITIES</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">QIYAM</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Wake Up Early (For Qiyam) • Pray Qiyam/Tahajjud • Eat Meal 1</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">FAJR</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Pray Fajr • Read Quran(1Juz)fahm/tajwid • Take Cold Shower (5min)</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">7-9AM</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">M/THU•T/W/F•SAT•SUN</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Commute (Morning) • Read/Study(Book/Course/Skill) • Run Errands(Grocery,MealPrep) • Do Chores (House, Laundry)</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">9AM-5PM</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">MON-FRI • SAT/SUN</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Work • Clear Inbox(E1,E2,E3,E4,LI,Slk) • Go Out(Outdoors/Adventure/Adrenaline)</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DHUHR</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Pray Dhuhr</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">TUE/WED/FRI</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Take Sun Walk (30-45min)</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">FRI</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Give Sadaqa (£10)</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">ASR</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Pray Asr</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">5PM-6:30PM</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">MON/THU • TUE/WED/FRI</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Commute (Evening) • Train (Workout/Bodyweight) • Eat Meal 2</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">MAGHRIB</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Pray Maghrib • Eat Meal 3</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">6:30PM-ISHA</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">MON-THU</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Do Personal Projects</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Call (Family,Friends,Dates)</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">FRI/SAT/SUN</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Visit (Family/Friends/Dates)</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">ISHA</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Pray Isha • Sleep Early (After Isha)</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">ALLDAY</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">MON/THU</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Fast</td>
                            </tr>
                            <tr class="bg-slate-50/30 hover:bg-slate-100">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Avoid Scrolling(FB,YTB,LKDN,IG) • Avoid Fap (P,M) • Avoid Processed Food(Sugar,Flour,SeedOils,Milk)</td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-center align-middle text-xs px-1 py-1 leading-none border-t border-b border-slate-200"><input type="checkbox" class="w-3 h-3"></td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap px-1 py-1 leading-none border-t border-b border-slate-200"></td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">DAILY</td>
                                <td class="text-left align-middle text-xs text-slate-900 px-1 py-1 leading-none border-t border-b border-slate-200">• Track Budget £28/day - BUDGET/m: 🏠£850 💵£850 💰£380 WEEK TOTAL: __/£196</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }
        function createGoalsView() {
            return `
                <div class="bg-gradient-to-r from-slate-50 to-white border-t border-b border-slate-200 px-1 py-1 flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">Goals Tracker</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add Goal</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Progress</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">5 active</span>
                        <div class="w-px h-4 bg-slate-300"></div>
                        <span class="text-xs text-slate-900">3 completed</span>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Goal</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Category</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Target</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Progress</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Complete Project</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Work</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Dec 31</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">75%</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }

        function createDailyView() {
            return `
                <div class="bg-gradient-to-r from-slate-50 to-white border-t border-b border-slate-200 px-1 py-1 flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">Daily Log</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add Entry</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Today</button>
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Search</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">3 entries</span>
                        <div class="w-px h-4 bg-slate-300"></div>
                        <span class="text-xs text-slate-900">Today</span>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Date</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Activity</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">2024-01-15</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Team Meeting</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Discussed Q1 goals</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }

        function createNotesView() {
            return `
                <div class="bg-gradient-to-r from-slate-50 to-white border-t border-b border-slate-200 px-1 py-1 flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">Notes</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add Note</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Categories</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">12 notes</span>
                        <div class="w-px h-4 bg-slate-300"></div>
                        <span class="text-xs text-slate-900">3 categories</span>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Title</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Category</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Content</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Project Ideas</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Work</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Mobile app for task management</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }

                  function createListsView() {
            return `
                <div class="bg-gradient-to-r from-slate-50 to-white border-t border-b border-slate-200 px-1 py-1 flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">Complete Personal Lists</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add List</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Archive</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">68 items</span>
                        <div class="w-px h-3 bg-slate-300/60"></div>
                        <span class="text-xs text-slate-900">5 categories</span>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Category</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Item</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Details</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Sets</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Reps</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Weight</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Rest</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- WORKOUT SECTION -->
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">🏋️ WORKOUT</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">⚖️ •🎯 •👔 •🦴 •💪 •🦵</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Tuesday/Wednesday/Friday Weight Training</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">Active</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Weight Training</td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">TUESDAY - Upper/Legs</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Incline DB Press, Barbell Squats, DB Row, Leg Curls, SS: Incline DB Curls & Tricep Extensions</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">3-4</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">8-12</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Progressive</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">60-90s</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">Schedule</span>
                                </td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Weight Training</td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">WEDNESDAY - Push/Pull</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Barbell Bench Press, RDL, Lat Pulldown, Walking Lunges, SS: Cable Lateral Raises & Reverse Crunches</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">3-4</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">6-10</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Heavy</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">90-120s</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">Schedule</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Weight Training</td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">FRIDAY - Shoulders/Legs</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Seated DB Shoulder Press, DB Row, Barbell Hip Thrust, Leg Extensions, SS: Seated Chest Flyes & Calf Raises</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">4</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">10-15</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Moderate</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">45-60s</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">Schedule</span>
                                </td>
                            </tr>

                            <!-- BODYWEIGHT SECTION -->
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">🤸 BODYWEIGHT</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">No Equipment Needed</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Upper Body, Lower Body, Core & Stretching</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Bodyweight</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-gray-700 ring-0 ring-gray-600/20">Available</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Bodyweight</td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">UPPER BODY</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Push-ups, Pull-ups or Table rows, Pike push-ups, Dips, Burpees</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">3-4</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">AMRAP</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Bodyweight</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">30-60s</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-gray-700 ring-0 ring-gray-600/20">Available</span>
                                </td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Bodyweight</td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">LOWER BODY</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Squats, Lunges, Hip bridges</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">4</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">15-20</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Bodyweight</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">30s</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-gray-700 ring-0 ring-gray-600/20">Available</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Bodyweight</td>
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">CORE & STRETCHING</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Plank, Calf raises, Side planks, Dead bugs, Bicycle crunches, Mountain climbers</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">3</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">To failure</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Bodyweight</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">30s</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-gray-700 ring-0 ring-gray-600/20">Available</span>
                                </td>
                            </tr>

                            <!-- MEALS SECTION -->
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">🍽️ MEALS</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Complete Meal Plans</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Daily Meals & TUE/WED/FRI Curry</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">Active</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Daily Meals</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Super Veggie (DAILY)</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Black Lentils (dry) 45g, Broccoli 250g, Cauliflower 150g, Shiitake Mushrooms 50g, Garlic 1 clove, Ginger Root 3g, Lime 1, Cumin 1T, Apple Cider Vinegar 1T, Hemp Seeds 1T, EVOO 1T</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">Daily</span>
                                </td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Weekly Meals</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Sweet Potato Cabbage Curry</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">TUE/WED/FRI: Cabbage 2c, Sweet Potato 1, Onion 1, Olive Oil 2T, Cumin Seeds 1t, Dry Red Chili 1, Turmeric 0.5t, Coriander 1t, Red Chili Powder 0.5t, Salt 0.5t, Cilantro 0.25c, Lime 1, Cauliflower Rice 2c, Chicken Thighs 200g OR Beef Chunks 200g</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-slate-100 text-slate-900 ring-0 ring-slate-300/20">TUE/WED/FRI</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Daily Meals</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Nutty Pudding (DAILY)</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Macadamia Nut Milk 50-100ml, Macadamia Nuts (ground) 3T, Walnuts (ground) 2t, Chia Seeds 2T, Ground Flax 1t, Cocoa Powder 1T, Sunflower Lecithin 1t, Ceylon Cinnamon 0.5t, Berries 0.5c, Cherries 3, Pomegranate Juice 2oz</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Daily</td>
                            </tr>

                            <!-- GROCERY SECTION -->
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs font-medium text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">🛒 GROCERY</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Complete Shopping List</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Proteins, Vegetables, Nuts & Seeds, Oils & Liquids, Spices</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-red-100 text-slate-900 ring-0 ring-red-600/20">Need to Buy</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Groceries</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">PROTEINS</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Chicken Thighs 600g OR Beef Chunks 600g</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-red-100 text-slate-900 ring-0 ring-red-600/20">Need to Buy</span>
                                </td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Groceries</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">VEGETABLES</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Black Lentils 315g, Broccoli 1.75kg, Cauliflower 1.05kg, Shiitake Mushrooms 350g, Garlic 7 cloves, Ginger Root 21g, Limes 10, Onions 3, Cabbage 6c, Sweet Potatoes 3, Cilantro 0.75c, Cauliflower Rice 6c</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-red-100 text-slate-900 ring-0 ring-red-600/20">Need to Buy</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Groceries</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">NUTS & SEEDS</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Macadamia Nut Milk 525ml, Macadamia Nuts (ground) 21T, Walnuts (ground) 14t, Chia Seeds 14T, Ground Flax 7t, Hemp Seeds 7T, Mixed Berries 3.5c, Cherries 21, Pomegranate Juice 14oz</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-red-100 text-slate-900 ring-0 ring-red-600/20">Need to Buy</span>
                                </td>
                            </tr>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Groceries</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">OILS & LIQUIDS</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">EVOO 105ml, Olive Oil 90ml, Apple Cider Vinegar 7T</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-red-100 text-slate-900 ring-0 ring-red-600/20">Need to Buy</span>
                                </td>
                            </tr>
                            <tr class="bg-slate-50 hover:bg-slate-100">
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">└─ Groceries</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">SPICES</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">Cumin Ground 7T, Cumin Seeds 3t, Turmeric 1.5t, Coriander 3t, Red Chili Powder 1.5t, Dry Red Chili 3, Cocoa Powder 7T, Sunflower Lecithin 7t, Ceylon Cinnamon 3.5t, Salt 0.5t</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">—</td>
                                <td class="text-left align-middle text-xs text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200">
                                    <span class="inline align-middle text-xs font-medium bg-red-100 text-slate-900 ring-0 ring-red-600/20">Need to Buy</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }

        function createDefaultView(viewName) {
            const displayName = viewName === 'new_collection' ? 'NEW COLLECTION' : viewName.replace(/_/g, ' ').toUpperCase();
            return `
                <div class="bg-gradient-to-r from-slate-50 to-white border-t border-b border-slate-200 px-1 py-1 flex items-center justify-between shadow-sm flex-shrink-0">
                    <div class="flex items-center space-x-2">
                        <span class="text-xs font-semibold text-slate-900">${displayName}</span>
                        <button onclick="addNewRow()" class="text-xs font-medium bg-blue-600 text-white px-1 py-1 rounded hover:bg-blue-700 active:scale-95 transition-all duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50">+ Add Item</button>
                        <div class="flex items-center space-x-1">
                            <button class="text-xs font-medium text-slate-600 bg-white border border-slate-300/60 px-1 py-1 rounded hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm">Clear</button>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-xs text-slate-900">0 items</span>
                    </div>
                </div>
                <div class="flex-1 overflow-auto bg-white">
                    <div class="table-container">
                        <table class="border-collapse table-auto" style="width: 100%;">
                        <thead>
                            <tr>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Item</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Description</th>
                                <th class="text-left align-middle text-xs font-semibold text-slate-900 whitespace-nowrap overflow-hidden px-1 py-1 leading-none bg-gradient-to-b from-slate-100 to-slate-50 border-t border-b border-slate-300 sticky top-0 z-10 shadow-sm">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white hover:bg-slate-50">
                                <td class="text-left align-middle text-xs text-slate-400 whitespace-nowrap overflow-hidden px-1 py-1 leading-none border-t border-b border-slate-200 italic" colspan="3">No items yet. Click "+ Add Item" to get started.</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            `;
        }

        function makeEditable() {
            let lastClicked = null;

            document.addEventListener('click', function(e) {
                const target = e.target;

                // Check if target is editable (TD or sidebar A)
                const isEditableTD = target.tagName === 'TD' && !target.querySelector('input') && !target.querySelector('select');
                const isEditableCollection = target.tagName === 'A' && target.closest('.space-y-1') && !target.querySelector('input') && !target.querySelector('select');

                if (!isEditableTD && !isEditableCollection) {
                    lastClicked = null;
                    return;
                }

                // Double-click detection
                if (lastClicked === target) {
                    // This is a double click - proceed with editing
                    lastClicked = null;
                    e.preventDefault();
                    e.stopPropagation();

                    const isCollection = isEditableCollection;
                    const element = isCollection ? target : target; // target is TD or A
                    const currentText = isCollection ? target.textContent.trim() : target.innerText.trim();

                    const rect = element.getBoundingClientRect();
                    const originalWidth = rect.width;
                    const originalHeight = rect.height;

                    // Store original styles
                    const originalStyles = {
                        padding: element.style.padding,
                        width: element.style.width,
                        minWidth: element.style.minWidth,
                        maxWidth: element.style.maxWidth,
                        height: element.style.height,
                        display: element.style.display,
                        alignItems: element.style.alignItems
                    };

                    // Apply editing styles
                    element.style.padding = '0';
                    element.style.width = originalWidth + 'px';
                    element.style.minWidth = originalWidth + 'px';
                    element.style.maxWidth = originalWidth + 'px';
                    element.style.height = originalHeight + 'px';

                    if (isCollection) {
                        element.style.display = 'flex';
                        element.style.alignItems = 'center';
                    }

                    // Create input element
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = currentText;

                    // Unified styling
                    const inputStyle = `
                        width: ${originalWidth}px;
                        height: ${originalHeight}px;
                        border: 2px solid ${isCollection ? '#ec4899' : '#60a5fa'};
                        padding: ${isCollection ? '2px 6px' : '0'};
                        margin: 0;
                        box-sizing: border-t border-box;
                        font-size: ${isCollection ? '12px' : 'inherit'};
                        font-weight: ${isCollection ? '500' : 'inherit'};
                        text-align: ${isCollection ? 'left' : 'inherit'};
                        background: ${isCollection ? '#fdf2f8' : '#eff6ff'};
                        min-width: ${originalWidth}px;
                        max-width: ${originalWidth}px;
                        flex: none;
                        display: block;
                        ${isCollection ? '' : 'font: inherit;'}
                    `;

                    input.style.cssText = inputStyle;

                    // Handle special category columns for table cells
                    let useSelect = false;
                    if (!isCollection) {
                        const tableHeader = element.parentElement.querySelector('th')?.innerText.trim() || '';
                        useSelect = tableHeader.toLowerCase().includes('categor') ||
                                   tableHeader.toLowerCase().includes('type') ||
                                   tableHeader.toLowerCase().includes('status') ||
                                   currentText === 'Work' || currentText === 'Personal' ||
                                   currentText === 'Urgent' || currentText === 'Normal';
                    }

                    let editElement;
                    if (useSelect) {
                        editElement = document.createElement('select');
                        editElement.className = element.className + ' bg-blue-50 outline-none cursor-pointer';
                        editElement.style.cssText = inputStyle;

                        // Add options
                        const options = (currentText === 'Work' || currentText === 'Personal')
                            ? ['Work', 'Personal']
                            : (currentText === 'Urgent' || currentText === 'Normal')
                            ? ['Urgent', 'Normal']
                            : ['Work', 'Personal', 'Urgent', 'Normal'];

                        options.forEach(option => {
                            const opt = document.createElement('option');
                            opt.value = option;
                            opt.textContent = option;
                            opt.selected = option === currentText;
                            editElement.appendChild(opt);
                        });
                    } else {
                        editElement = input;
                        editElement.className = element.className + ` ${isCollection ? 'bg-blue-50' : 'bg-blue-50'} outline-none border ${isCollection ? 'border-pink-300' : 'border-t border-slate-500'} rounded`;
                    }

                    element.innerHTML = '';
                    element.appendChild(editElement);
                    editElement.focus();
                    if (editElement.tagName === 'INPUT') {
                        editElement.select();
                    }

                    // Save function
                    function saveEdit() {
                        const newText = editElement.value || editElement.options[editElement.selectedIndex]?.text || currentText;

                        if (isCollection) {
                            element.innerHTML = newText;
                            element.setAttribute('onclick', `switchView('${getViewNameFromText(newText)}')`);
                        } else {
                            element.innerText = newText;
                        }

                        // Restore original styles
                        Object.keys(originalStyles).forEach(prop => {
                            element.style[prop] = originalStyles[prop];
                        });
                    }

                    editElement.addEventListener('blur', saveEdit);
                    editElement.addEventListener('keydown', function(event) {
                        if (event.key === 'Enter') {
                            saveEdit();
                            if (isCollection) {
                                const viewName = getViewNameFromText(editElement.value || currentText);
                                setTimeout(() => switchView(viewName), 10);
                            }
                        }
                        if (event.key === 'Escape') {
                            element.innerHTML = currentText;
                            if (isCollection) {
                                element.setAttribute('onclick', `switchView('${getViewNameFromText(currentText)}')`);
                            }
                            Object.keys(originalStyles).forEach(prop => {
                                element.style[prop] = originalStyles[prop];
                            });
                        }
                    });

                } else {
                    // First click - track it
                    lastClicked = target;
                    setTimeout(() => {
                        if (lastClicked === target) {
                            lastClicked = null;
                        }
                    }, 300);
                }
            });
        }

        function addNewCollection() {
            const spaceDiv = document.querySelector('.space-y-1');
            const addButton = spaceDiv.querySelector('button');

            // Create new collection link with placeholder text
            const newCollection = document.createElement('a');
            newCollection.href = '#';
            newCollection.className = 'flex items-center px-1 py-1 leading-none text-xs font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 rounded transition-all duration-200 transform hover:scale-110';
            newCollection.setAttribute('onclick', `switchView('new_collection')`);
            newCollection.textContent = 'NEW COLLECTION';

            // Insert before the + button
            spaceDiv.insertBefore(newCollection, addButton);

            // Switch to the new collection and trigger editing immediately
            switchView('new_collection');
            updateActiveButton('new_collection');

            // Trigger double-click edit on the new collection after a short delay
            setTimeout(() => {
                const event = new MouseEvent('click', { bubbles: true });
                newCollection.dispatchEvent(event);
                setTimeout(() => {
                    newCollection.dispatchEvent(event);
                }, 50);
            }, 100);
        }

        function getViewNameFromText(text) {
            const textUpper = text.toUpperCase().trim();
            const viewMap = {
                'TABLE': 'table',
                'SCHEDULE': 'schedule',
                'GOALS': 'goals',
                'DAILY LOG': 'daily',
                'DAILY': 'daily',
                'NOTES': 'notes',
                'LISTS': 'lists'
            };
            return viewMap[textUpper] || text.toLowerCase().replace(/\s+/g, '_');
        }

        // Load schedule view by default
        switchView('schedule');
        makeEditable();
    </script>
